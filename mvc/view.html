<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <link rel="stylesheet" href="../css/bootstrap.min.css">
   <link rel="stylesheet" href="../css/prism.css">
   <link rel="stylesheet" href="../css/style.css">
</head>
<body>
   <header>
      <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm">
         <div class="container">
            <a class="navbar-brand" href="../index.html">DevNet</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                  <li class="nav-item">
                     <a class="nav-link" aria-current="page" href="../index.html">Home</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link active" aria-current="page" href="../index.html">Documentation</a>
                  </li>
               </ul>
               <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                  <li class="nav-item dropdown">
                     <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Versions
                     </a>
                     <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#">Version 0.1</a></li>
                     </ul>
                  </li>
               </ul>
            </div>
         </div>
      </nav>
   </header>
   <main role="main" class="pb-3 bg-white">
      <br>
      <div class="container">
         <div class="row">
            <aside style="width: 260px;">
               <nav id="accordion">
                  <a href="" class="menu collapsed" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne"><span class="arrow"></span>Get Started</a>
                  <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-bs-parent="#accordion">
                     <ul class="sub-menu">
                        <li><a class="nav-link text-dark" href="../start/overview.html">Overview</a></li>
                        <li><a class="nav-link text-dark" href="../start/console.html">Console application</a></li>
                        <li><a class="nav-link text-dark" href="../start/web.html">Web application</a></li>
                        <li><a class="nav-link text-dark" href="#">Configuration</a></li>
                     </ul>
                  </div>
                  <a href="#" class="menu collapsed" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo"><span class="arrow"></span>Fundamentals</a>
                  <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-bs-parent="#accordion">
                     <ul class="sub-menu">
                        <li><a class="nav-link text-dark" href="../fundamentals/middleware.html">Middleware</a></li>
                        <li><a class="nav-link text-dark" href="../fundamentals/routing.html">Routing</a></li>
                        <li><a class="nav-link text-dark" href="../fundamentals/dependency.html">Dependency injection</a></li>
                        <li><a class="nav-link text-dark" href="#">Http message</a></li>
                        <li><a class="nav-link text-dark" href="#">Error Handling</a></li>
                        <li><a class="nav-link text-dark" href="#">Security</a></li>
                     </ul>
                  </div>
                  <a href="#" class="menu" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree"><span class="arrow"></span>MVC</a>
                  <div id="collapseThree" class="collapse show" aria-labelledby="headingThree" data-bs-parent="#accordion">
                     <ul class="sub-menu">
                        <li><a class="nav-link text-dark" href="overview.html">Overview</a></li>
                        <li><a class="nav-link text-dark" href="controller.html">Controller</a></li>
                        <li><a class="nav-link text-dark fw-bold" href="view.html">View</a></li>
                        <li><a class="nav-link text-dark" href="layout.html">Layout</a></li>
                        <li><a class="nav-link text-dark" href="filters.html">Filters</a></li>
                     </ul>
                  </div>
                  <a href="#" class="menu collapsed" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour"><span class="arrow"></span>Entity ORM</a>
                  <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-bs-parent="#accordion">
                     <ul class="sub-menu">
                        <li><a class="nav-link text-dark" href="../entity/overview.html">Overview</a></li>
                        <li><a class="nav-link text-dark" href="../entity/model.html">Model</a></li>
                        <li><a class="nav-link text-dark" href="../entity/querying.html">Querying Data</a></li>
                        <li><a class="nav-link text-dark" href="../entity/saving.html#4">Saving Data</a></li>
                        <li><a class="nav-link text-dark" href="../entity/relationships.html">Relationships</a></li>
                     </ul>
                  </div>
                  <a href="#" class="menu collapsed" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive"><span class="arrow"></span>Identity Manager</a>
                  <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-bs-parent="#accordion">
                     <ul class="sub-menu">
                        <li><a class="nav-link text-dark" href="../identity/overview.html">Overview</a></li>
                        <li><a class="nav-link text-dark" href="../identity/data.html">User Data</a></li>
                        <li><a class="nav-link text-dark" href="../identity/authentication.html">User Authentication</a></li>
                        <li><a class="nav-link text-dark" href="../identity/roles.html">User Roles</a></li>
                     </ul>
                  </div>
                  <a href="#" class="menu collapsed" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix"><span class="arrow"></span>Core</a>
                  <div id="collapseSix" class="collapse" aria-labelledby="headingSix" data-bs-parent="#accordion">
                     <ul class="sub-menu">
                        <li><a class="nav-link text-dark" href="#">Typed Collection</a></li>
                        <li><a class="nav-link text-dark" href="#">Generics</a></li>
                        <li><a class="nav-link text-dark" href="#">Extension Method</a></li>
                        <li><a class="nav-link text-dark" href="#">Linq data query</a></li>
                        <li><a class="nav-link text-dark" href="#">Database Access Object</a></li>
                        <li><a class="nav-link text-dark" href="#">Event Delegat</a></li>
                        <li><a class="nav-link text-dark" href="#">Tasks</a></li>
                        <li><a class="nav-link text-dark" href="#">CLI</a></li>
                     </ul>
                  </div>
               </nav>
            </aside>
            <article class="flex-grow-1" style="width: 400px;">
               <h1>View</h1>
               <hr>
               <p>
                  Views are the presentation details of the user’s interaction, in form of HTML templates with minimal of embedded PHP code that generate content to send to the client, views are <samp>.phtml</samp> files stored by default in a Views folder at the root of the application, typically each controller will have its own folder, in which are views for specific controller actions. <br>
                  It's recomanded to create the view file, with same name as the action name, and place it in folder with the same name as the name of the controller.
               </p>
               <p>
                  The following code represent a view template with a sample HTML code, stored in <code>"/Views/Home/index.phtml"</code><br> assuming that the controller name is <b>"Home"</b> and the action name is <b>"index"</b>.
               </p>
               <pre><code class="language-html">
                  &lt;!DOCTYPE html>
                  &lt;html lang="en">
                  &lt;head>
                     &lt;meta charset="UTF-8">
                     &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
                     &lt;title>Document&lt;/title>
                  &lt;/head>
                  &lt;body>
                     &lt;h1>Hello World!&lt;/h1>
                  &lt;/body>
                  &lt;/html>
               </code></pre>
               <h3>Returning the View</h3>
               <p>
                  Typically views are returned from actions as a <code>ViewResult</code>, which is a type of <code>IActionResult</code>, the Action method can create and return a ViewResult directly, but that isn't commonly done, since controllers inherit from Controller base class, you simply use the method <code>view(string $viewName, ?object $viewModel)</code> to return the ViewResult.
                  <ul>
                     <li>the parameter <code>$viewName</code> is string that define the relative path to the view file without the extension file <samp>".phtml"</samp></li>
                     <li>the parameter <code>$viewModel</code> is optianal object that can pass data to the view as viewModel object.</li>
                  </ul>
               </p>
               <pre><code class="language-php">
                  &lt;?php

                  namespace Application\Controllers;

                  use Artister\DevNet\Mvc\Controller;
                  use Artister\DevNet\Mvc\IActionResult;

                  class HomeController extends Controller
                  {
                     public function index() : IActionResult
                     {
                        return $this->view("home/index");
                     }
                  }
               </code></pre>
               <h3>Passing data to views</h3>
               <p>
                  Passing data to the view can be done in two ways:
                  <ul>
                     <li><b>ViewData:</b> a weakly typed data</li>
                     <li><b>ViewModel:</b> a strongly typed data</li>
                  </ul>
               </p>
               <h5>View Data</h5>
               <p>
                  ViewData is a ViewDataDictionary object accessed through string keys. String data can be stored and used directly without the need for a cast, but you must cast other ViewData object values to specific types when you extract them. You can use ViewData to pass data from controllers to views and within views, including partial views and layouts.
                  The following is an example that sets values for a greeting and an address using ViewData in an action:
               </p>
               <pre><code class="language-php">
                  &lt;?php

                  namespace Application\Controllers;

                  use Artister\DevNet\Mvc\Controller;
                  use Artister\DevNet\Mvc\IActionResult;

                  class HomeController extends Controller
                  {
                     public function index($name) : IActionResult
                     {
                        $this->ViewData["Name"] = $name;
                        return $this->view("home/index");
                     }
                  }
               </code></pre>
               <p>
                  Working with the data in a view:
               </p>
               <pre><code class="language-php">
                  &lt;?php $this->layout('layouts/layout') ?>

                  &lt;h1>Hello!&lt;/h1>
                  &lt;?= $this->ViewData['Email'] ?>

               </code></pre>
               <h5>View Model</h5>
               <p>
                  Another approach to pass data to the view is to pass an instance of the a model type to the view, This model is commonly referred to as a viewmodel, it allows the view to take advantage of strong typing, it means that every property has an explicitly defined type like: <code>string</code>, <code>int</code> or <code>boolean</code>, which helps you write code quickly with fewer errors.
               </p>
               <p>
                  This class <code>Student</code> represent a the model that we want to pass to the view in this example:
               </p>
               <pre><code class="language-php">
                  &lt;?php

                  namespace Application\Models;

                  class Student
                  {
                     public int $Id;
                     public string $Name;
                  }
               </code></pre>
               <p>
                  Handling the model in the controller by the action method and passing it to the view method as a parameter:
               </p>
               <pre><code class="language-php">
                  &lt;?php

                  namespace Application\Controllers;

                  use Artister\DevNet\Mvc\Controller;
                  use Artister\DevNet\Mvc\IActionResult;

                  class HomeController extends Controller
                  {
                     public function index($name) : IActionResult
                     {
                        $student = new Student();
                        $student->Name = $name;
                        return $this->view("home/index", $student);
                     }
                  }
               </code></pre>
               <p>
                  Working with the viewmodel in the view:
               </p>
               <pre><code class="language-php">
                  &lt;!DOCTYPE html>
                  &lt;html lang="en">
                  &lt;head>
                     &lt;meta charset="UTF-8">
                     &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
                     &lt;title>Document&lt;/title>
                  &lt;/head>
                  &lt;body>
                     &lt;h1>Hello &lt;?= $model->Name ?>!&lt;/h1>
                  &lt;/body>
                  &lt;/html>
               </code></pre>
               <footer>
                  <nav class="no-print" aria-label="Page navigation">
                     <ul class="nav-page">
                        <li class="nav-page-item">
                           <a class="nav-page-link" href="controller.html">
                              <i class="chevron left"></i> Previous
                           </a>
                        </li>
                        <li class="nav-page-item">
                           <a class="nav-page-link" href="layout.html">
                              Next <i class="chevron right"></i>
                           </a>
                        </li>
                     </ul>
                  </nav>
               </footer>
            </article>
         </div>
      </div>
   </main>
   <footer class="border-top footer text-muted bg-white">
      <div class="container">
         © 2020 - DevNet by Mohammed Moussaoui.
      </div>
   </footer>
   <script src="../js/bootstrap.bundle.min.js"></script>
   <script src="../js/prism.js"></script>
</body>
</html>